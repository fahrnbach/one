---
title: "Verify Sidebar ‚Üî Title Match"
description: "Utility script to ensure consistency between Starlight sidebar entries and MDX document titles."
tags: ["tooling", "sidebar", "validation", "script"]
status: "stable"
created: "2025-06-19"
updated: "2025-06-19"
author: "Jacob Fahrnbach"
ai_used: true
model: "ChatGPT 4o-Turbo"
revision: 1.0
---

## Overview

This Node.js script ensures that the sidebar labels match the frontmatter titles of their respective `.mdx` files. It's useful for keeping your navigation consistent and prevents confusion or broken expectations when browsing the SparkDocs.

> ‚úÖ Save this to `tools/sidebar-check.js` and run with: `node tools/sidebar-check.js`

```js
// tools/sidebar-check.js

const fs = require("fs");
const path = require("path");
const matter = require("gray-matter");
const chalk = require("chalk");

// Update this path to your actual sidebar config
const sidebarPath = path.resolve(__dirname, "../src/configs/sidebar.ts");
const docsRoot = path.resolve(__dirname, "../src/content/docs");

// Parse sidebar config
const extractSidebarEntries = (sidebarFile) => {
  const raw = fs.readFileSync(sidebarFile, "utf8");
  const entryRegex = /{[\s\S]*?text:\s*["'`](.*?)["'`][\s\S]*?link:\s*["'`](.*?)["'`][\s\S]*?}/g;

  const entries = [];
  let match;
  while ((match = entryRegex.exec(raw)) !== null) {
    const [_, text, link] = match;
    entries.push({ text, link });
  }

  return entries;
};

const verifyTitles = (entries) => {
  let allMatch = true;

  for (const { text, link } of entries) {
    const cleanLink = link.replace(/^\/|\/$/g, "");
    const filePath = path.join(docsRoot, `${cleanLink}.mdx`);

    if (!fs.existsSync(filePath)) {
      console.warn(chalk.yellow(`‚ö†Ô∏è File not found for link: ${link}`));
      continue;
    }

    const content = fs.readFileSync(filePath, "utf8");
    const { data } = matter(content);
    const title = data.title;

    if (title !== text) {
      allMatch = false;
      console.error(
        chalk.red(
          `‚ùå Mismatch in ${filePath}\n  ‚Üí Sidebar: "${text}"\n  ‚Üí Title:   "${title}"`
        )
      );
    } else {
      console.log(
        chalk.green(`‚úÖ ${filePath} matches sidebar title: "${title}"`)
      );
    }
  }

  if (!allMatch) {
    console.error(chalk.red("\nSome sidebar entries do not match their titles."));
    process.exit(1);
  } else {
    console.log(chalk.blueBright("\nüéâ All sidebar entries match frontmatter titles!"));
  }
};

// Run it
console.log(chalk.bold("üîç Checking sidebar ‚Üî title consistency...\n"));
const sidebarEntries = extractSidebarEntries(sidebarPath);
verifyTitles(sidebarEntries);
